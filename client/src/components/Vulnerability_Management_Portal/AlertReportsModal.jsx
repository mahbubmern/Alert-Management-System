// import { useEffect, useState } from "react";
// import { Download, Image as ImageIcon } from "lucide-react";
// import { formatDateTimeReadable } from "../../utils/ConvertTime";

// const ReportsModal = ({ isOpen, onClose, dataToExport, serviceName }) => {
//   const [orgName, setOrgName] = useState("Your Organization");
//   const [logoDataUrl, setLogoDataUrl] = useState("");
//   const [reportTitle, setReportTitle] = useState(
//     `${serviceName}`
//   );
//   const [paperSize, setPaperSize] = useState("a4");
//   const [orientationView, setOrientationView] = useState("p");
//   const [logoFileName, setLogoFileName] = useState("");

//   useEffect(() => {
//     setReportTitle(`${serviceName}`);
//   }, [serviceName]);

//   useEffect(() => {
//     if (isOpen) {
//       if (!document.getElementById("jspdf-script")) {
//         const script = document.createElement("script");
//         script.id = "jspdf-script";
//         script.src =
//           "https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js";
//         script.async = true;
//         document.body.appendChild(script);
//       }
//       if (!document.getElementById("jspdf-autotable-script")) {
//         const script = document.createElement("script");
//         script.id = "jspdf-autotable-script";
//         script.src =
//           "https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js";
//         script.async = true;
//         document.body.appendChild(script);
//       }
//     }
//   }, [isOpen]);

//   const handleLogoChange = (event) => {
//     const file = event.target.files[0];
//     if (file && file.type.startsWith("image/")) {
//       setLogoFileName(file.name);
//       const reader = new FileReader();
//       reader.onloadend = () => {
//         setLogoDataUrl(reader.result);
//       };
//       reader.readAsDataURL(file);
//     } else {
//       setLogoFileName("");
//       setLogoDataUrl("");
//     }
//   };

//   // const handleDownloadPdf = () => {
//   //   if (
//   //     typeof window.jspdf === "undefined" ||
//   //     typeof window.jspdf.jsPDF === "undefined"
//   //   ) {
//   //     alert(
//   //       "Reporting library is still loading. Please try again in a moment."
//   //     );
//   //     return;
//   //   }

//   //   const { jsPDF } = window.jspdf;
//   //   const doc = new jsPDF({ orientation: "p", unit: "mm", format: paperSize });

//   //   const pageWidth = doc.internal.pageSize.getWidth();
//   //   const pageHeight = doc.internal.pageSize.getHeight();

//   //   // --- Cover Page ---
//   //   if (logoDataUrl) {
//   //     doc.addImage(logoDataUrl, "PNG", pageWidth / 2 - 15, 60, 30, 30);
//   //   }
//   //   doc.setFontSize(28);
//   //   doc.text(orgName, pageWidth / 2, 110, { align: "center" });
//   //   doc.setFontSize(20);
//   //   doc.text(reportTitle, pageWidth / 2, 125, { align: "center" });
//   //   doc.setFontSize(12);
//   //   doc.setTextColor(150);
//   //   doc.text(
//   //     `Report Generated: ${new Date().toLocaleDateString()}`,
//   //     pageWidth / 2,
//   //     140,
//   //     { align: "center" }
//   //   );

//   //   // --- Data Table Page(s) ---
//   //   doc.addPage();

//   //   const tableColumn = [
//   //     "SL",
//   //     "Initiator",
//   //     "Alert ID",
//   //     "Alert Time",
//   //     "Event Time",
//   //     "Alert Name",
//   //     "Alert Source",
//   //     "Severity",
//   //     "Status",
//   //   ];
//   //   const tableRows = dataToExport.map((item, index) => [
//   //     index + 1,
//   //     item.author.name,
//   //     item.alertId,
//   //     item.createdAt,
//   //     item.eventTime,
//   //     item.alertName,
//   //     item.alertSource,
//   //     item.severity ,
//   //     item.status ,
//   //   ]);

//   //   doc.autoTable({
//   //     head: [tableColumn],
//   //     body: tableRows,
//   //     startY: 20,
//   //     theme: "grid",
//   //     headStyles: { fillColor: [44, 62, 80] }, // Dark blue-gray header
//   //     styles: { fontSize: 8 },
//   //     columnStyles: { 0: { cellWidth: 50 } }, // Wider column for name
//   //   });

//   //   const pageCount = doc.internal.getNumberOfPages();
//   //   for (let i = 2; i <= pageCount; i++) {
//   //     doc.setPage(i);
//   //     doc.setFontSize(8);
//   //     doc.setTextColor(150);
//   //     doc.text(
//   //       `Page ${i - 1} of ${pageCount - 1}`,
//   //       doc.internal.pageSize.width - 25,
//   //       doc.internal.pageSize.height - 10
//   //     );
//   //   }

//   //   doc.save(
//   //     `Vulnerability_Report_${serviceName.replace(" ", "_")}_${
//   //       new Date().toISOString().split("T")[0]
//   //     }.pdf`
//   //   );
//   // };
// const handleDownloadPdf = () => {
//   if (
//     typeof window.jspdf === "undefined" ||
//     typeof window.jspdf.jsPDF === "undefined"
//   ) {
//     alert("Reporting library is still loading. Please try again in a moment.");
//     return;
//   }
//   const { jsPDF } = window.jspdf;
//   const doc = new jsPDF({ orientation: orientationView, unit: "mm", format: paperSize });

//   const pageWidth = doc.internal.pageSize.getWidth();
//   const pageHeight = doc.internal.pageSize.getHeight();

//   // --- Cover Page ---
//   if (logoDataUrl) {
//     doc.addImage(logoDataUrl, "PNG", pageWidth / 2 - 15, 60, 30, 30);
//   }
//   doc.setFontSize(28);
//   doc.text(orgName, pageWidth / 2, 110, { align: "center" });
//   doc.setFontSize(20);
//   doc.text(reportTitle, pageWidth / 2, 125, { align: "center" });
//   doc.setFontSize(12);
//   doc.setTextColor(150);
//   doc.text(
//     `Report Generated: ${new Date().toLocaleDateString()}`,
//     pageWidth / 2,
//     140,
//     { align: "center" }
//   );

//   // --- Data Table Page(s) ---
//   doc.addPage();

//   const tableColumn = [
//     "SL",
//     "Initiator",
//     "Alert ID",
//     "Alert Time",
//     "Event Time",
//     "Alert Name",
//     "Alert Source",
//     "Severity",
//     "Status",
//   ];

//   const tableRows = dataToExport.map((item, index) => [
//     index + 1,
//     item.author?.name || "",
//     item.alertId || "",
//     formatDateTimeReadable(item.createdAt) || "",
//     formatDateTimeReadable(item.eventTime) || "",
//     item.alertName || "",
//     item.alertSource || "",
//     item.severity || "",
//     item.status || "",
//   ]);

//   // ðŸ”¹ Dynamically calculate column widths based on content length
//   const columnWidths = tableColumn.map((col, i) => {
//     const headerLength = col.length;
//     const maxCellLength = Math.max(
//       ...tableRows.map((row) => (row[i] ? row[i].toString().length : 0))
//     );
//     // Multiply by a constant factor (approx width per character)
//     const colWidth = Math.min(Math.max(maxCellLength, headerLength) * 2.5, 45);
//     return colWidth;
//   });

//   // Convert columnWidths array into object for columnStyles
//   const columnStyles = columnWidths.reduce((acc, width, i) => {
//     acc[i] = { cellWidth: width };
//     return acc;
//   }, {});

// doc.autoTable({
//   head: [tableColumn],
//   body: tableRows,
//   startY: 20,
//   theme: "grid",
//   headStyles: { fillColor: [44, 62, 80] },
//   styles: { fontSize: 8 },
//   tableWidth: 'auto',     // ðŸ‘ˆ auto adjust to page width
//   horizontalPageBreak: true,  // optional: split long tables
// });


//   // --- Footer with page numbers ---
//   const pageCount = doc.internal.getNumberOfPages();
//   for (let i = 2; i <= pageCount; i++) {
//     doc.setPage(i);
//     doc.setFontSize(8);
//     doc.setTextColor(150);
//     doc.text(
//       `Page ${i - 1} of ${pageCount - 1}`,
//       doc.internal.pageSize.width - 25,
//       doc.internal.pageSize.height - 10
//     );
//   }

//   // --- Save PDF ---
//   doc.save(
//     `${serviceName.replace(" ", "_")}_${
//       new Date().toISOString().split("T")[0]
//     }.pdf`
//   );
// };

//   if (!isOpen) return null;

//   return (
//     <div className="fixed inset-0 !bg-black/70 bg-opacity-70  flex justify-center items-center z-50">
//       <div className="bg-gray-800 p-8 rounded-lg shadow-2xl w-full max-w-lg text-white">
//         <div className="flex justify-between items-center mb-6">
//           <h2 className="text-2xl font-bold">Customize PDF Report</h2>
//           <button onClick={onClose} className="text-gray-400 hover:text-white">
//             &times;
//           </button>
//         </div>
//         <div className="space-y-4 mb-6">
//           <div>
//             <label className="text-sm font-semibold text-gray-400">
//               Organization Name
//             </label>
//             <input
//               value={orgName}
//               onChange={(e) => setOrgName(e.target.value)}
//               className="bg-gray-700 p-2 rounded w-full mt-1"
//             />
//           </div>
//           <div>
//             <label className="text-sm font-semibold text-gray-400">
//               Organization Logo
//             </label>
//             <label className="w-full flex items-center justify-center px-4 py-3 bg-gray-700 text-gray-300 rounded-lg shadow-sm tracking-wide border border-dashed border-gray-600 cursor-pointer hover:bg-gray-600 hover:text-white mt-1">
//               <ImageIcon className="w-6 h-6 mr-3" />
//               <span className="text-sm leading-normal">
//                 {logoFileName || "Upload an image"}
//               </span>
//               <input
//                 type="file"
//                 accept="image/png, image/jpeg"
//                 className="hidden"
//                 onChange={handleLogoChange}
//               />
//             </label>
//           </div>
//           <div>
//             <label className="text-sm font-semibold text-gray-400">
//               Report Title
//             </label>
//             <input
//               value={reportTitle}
//               onChange={(e) => setReportTitle(e.target.value)}
//               className="bg-gray-700 p-2 rounded w-full mt-1"
//             />
//           </div>
//           <div>
//             <label className="text-sm font-semibold text-gray-400 block mb-2">
//               Paper Size
//             </label>
//             <div className="flex bg-gray-700 rounded-lg p-1">
//               <button
//                 onClick={() => {setPaperSize("a4"), setOrientationView("p")}}
//                 className={`px-4 py-2 text-sm font-semibold rounded-md w-1/2 transition-colors ${
//                   paperSize === "a4"
//                     ? "bg-indigo-600 text-white"
//                     : "text-gray-300"
//                 }`}
//               >
//                 A4
//               </button>
//               <button
//                 onClick={() => {setPaperSize("letter"), setOrientationView("l")}}
//                 className={`px-4 py-2 text-sm font-semibold rounded-md w-1/2 transition-colors ${
//                   paperSize === "letter"
//                     ? "bg-indigo-600 text-white"
//                     : "text-gray-300"
//                 }`}
//               >
//                 Letter
//               </button>
//             </div>
//           </div>
//         </div>
//         <button
//           onClick={handleDownloadPdf}
//           className="w-full flex items-center justify-center bg-indigo-600 hover:bg-indigo-500 text-white font-semibold px-4 py-3 !rounded-lg transition-colors"
//         >
//           <Download className="h-5 w-5 mr-2" /> Download PDF
//         </button>
//       </div>
//     </div>
//   );
// };

// export default ReportsModal;


// import { useEffect, useState } from "react";
// import { Download, Image as ImageIcon } from "lucide-react";
// import { formatDateTimeReadable } from "../../utils/ConvertTime";

// // 1. Import libraries directly
// import jsPDF from "jspdf";
// import "jspdf-autotable"; 

// const ReportsModal = ({ isOpen, onClose, dataToExport, serviceName }) => {
//   const [orgName, setOrgName] = useState("Your Organization");
//   const [logoDataUrl, setLogoDataUrl] = useState("");
//   const [reportTitle, setReportTitle] = useState(`${serviceName}`);
//   const [paperSize, setPaperSize] = useState("a4");
//   const [orientationView, setOrientationView] = useState("p");
//   const [logoFileName, setLogoFileName] = useState("");

//   useEffect(() => {
//     setReportTitle(`${serviceName}`);
//   }, [serviceName]);

//   // REMOVED: The useEffect that loaded scripts is no longer needed.

//   const handleLogoChange = (event) => {
//     const file = event.target.files[0];
//     if (file && file.type.startsWith("image/")) {
//       setLogoFileName(file.name);
//       const reader = new FileReader();
//       reader.onloadend = () => {
//         setLogoDataUrl(reader.result);
//       };
//       reader.readAsDataURL(file);
//     } else {
//       setLogoFileName("");
//       setLogoDataUrl("");
//     }
//   };

//   const handleDownloadPdf = () => {
//     // 2. Instantiate jsPDF directly from the import
//     const doc = new jsPDF({
//       orientation: orientationView,
//       unit: "mm",
//       format: paperSize,
//     });

//     const pageWidth = doc.internal.pageSize.getWidth();
    
//     // --- Cover Page ---
//     if (logoDataUrl) {
//       doc.addImage(logoDataUrl, "PNG", pageWidth / 2 - 15, 60, 30, 30);
//     }
//     doc.setFontSize(28);
//     doc.text(orgName, pageWidth / 2, 110, { align: "center" });
//     doc.setFontSize(20);
//     doc.text(reportTitle, pageWidth / 2, 125, { align: "center" });
//     doc.setFontSize(12);
//     doc.setTextColor(150);
//     doc.text(
//       `Report Generated: ${new Date().toLocaleDateString()}`,
//       pageWidth / 2,
//       140,
//       { align: "center" }
//     );

//     // --- Data Table Page(s) ---
//     doc.addPage();

//     const tableColumn = [
//       "SL",
//       "Initiator",
//       "Alert ID",
//       "Alert Time",
//       "Event Time",
//       "Alert Name",
//       "Alert Source",
//       "Severity",
//       "Status",
//     ];

//     const tableRows = dataToExport.map((item, index) => [
//       index + 1,
//       item.author?.name || "",
//       item.alertId || "",
//       formatDateTimeReadable(item.createdAt) || "",
//       formatDateTimeReadable(item.eventTime) || "",
//       item.alertName || "",
//       item.alertSource || "",
//       item.severity || "",
//       item.status || "",
//     ]);

//     // 3. autoTable is now guaranteed to exist on the doc instance
//     doc.autoTable({
//       head: [tableColumn],
//       body: tableRows,
//       startY: 20,
//       theme: "grid",
//       headStyles: { fillColor: [44, 62, 80] },
//       styles: { fontSize: 8 },
//       tableWidth: "auto",
//       horizontalPageBreak: true,
//     });

//     // --- Footer with page numbers ---
//     const pageCount = doc.internal.getNumberOfPages();
//     for (let i = 2; i <= pageCount; i++) {
//       doc.setPage(i);
//       doc.setFontSize(8);
//       doc.setTextColor(150);
//       doc.text(
//         `Page ${i - 1} of ${pageCount - 1}`,
//         doc.internal.pageSize.width - 25,
//         doc.internal.pageSize.height - 10
//       );
//     }

//     // --- Save PDF ---
//     doc.save(
//       `${serviceName.replace(" ", "_")}_${
//         new Date().toISOString().split("T")[0]
//       }.pdf`
//     );
//   };

//   if (!isOpen) return null;

//   return (
//     <div className="fixed inset-0 !bg-black/70 bg-opacity-70  flex justify-center items-center z-50">
//       <div className="bg-gray-800 p-8 rounded-lg shadow-2xl w-full max-w-lg text-white">
//         <div className="flex justify-between items-center mb-6">
//           <h2 className="text-2xl font-bold">Customize PDF Report</h2>
//           <button onClick={onClose} className="text-gray-400 hover:text-white">
//             &times;
//           </button>
//         </div>
//         <div className="space-y-4 mb-6">
//           <div>
//             <label className="text-sm font-semibold text-gray-400">
//               Organization Name
//             </label>
//             <input
//               value={orgName}
//               onChange={(e) => setOrgName(e.target.value)}
//               className="bg-gray-700 p-2 rounded w-full mt-1"
//             />
//           </div>
//           <div>
//             <label className="text-sm font-semibold text-gray-400">
//               Organization Logo
//             </label>
//             <label className="w-full flex items-center justify-center px-4 py-3 bg-gray-700 text-gray-300 rounded-lg shadow-sm tracking-wide border border-dashed border-gray-600 cursor-pointer hover:bg-gray-600 hover:text-white mt-1">
//               <ImageIcon className="w-6 h-6 mr-3" />
//               <span className="text-sm leading-normal">
//                 {logoFileName || "Upload an image"}
//               </span>
//               <input
//                 type="file"
//                 accept="image/png, image/jpeg"
//                 className="hidden"
//                 onChange={handleLogoChange}
//               />
//             </label>
//           </div>
//           <div>
//             <label className="text-sm font-semibold text-gray-400">
//               Report Title
//             </label>
//             <input
//               value={reportTitle}
//               onChange={(e) => setReportTitle(e.target.value)}
//               className="bg-gray-700 p-2 rounded w-full mt-1"
//             />
//           </div>
//           <div>
//             <label className="text-sm font-semibold text-gray-400 block mb-2">
//               Paper Size
//             </label>
//             <div className="flex bg-gray-700 rounded-lg p-1">
//               <button
//                 onClick={() => {
//                   setPaperSize("a4");
//                   setOrientationView("p");
//                 }}
//                 className={`px-4 py-2 text-sm font-semibold rounded-md w-1/2 transition-colors ${
//                   paperSize === "a4"
//                     ? "bg-indigo-600 text-white"
//                     : "text-gray-300"
//                 }`}
//               >
//                 A4
//               </button>
//               <button
//                 onClick={() => {
//                   setPaperSize("letter");
//                   setOrientationView("l");
//                 }}
//                 className={`px-4 py-2 text-sm font-semibold rounded-md w-1/2 transition-colors ${
//                   paperSize === "letter"
//                     ? "bg-indigo-600 text-white"
//                     : "text-gray-300"
//                 }`}
//               >
//                 Letter
//               </button>
//             </div>
//           </div>
//         </div>
//         <button
//           onClick={handleDownloadPdf}
//           className="w-full flex items-center justify-center bg-indigo-600 hover:bg-indigo-500 text-white font-semibold px-4 py-3 !rounded-lg transition-colors"
//         >
//           <Download className="h-5 w-5 mr-2" /> Download PDF
//         </button>
//       </div>
//     </div>
//   );
// };

// export default ReportsModal;


import { useEffect, useState } from "react";
import { Download, Image as ImageIcon } from "lucide-react";
import { formatDateTimeReadable } from "../../utils/ConvertTime";

// --- CHANGE 1: Import jsPDF and autoTable correctly ---
import jsPDF from "jspdf";
import autoTable from "jspdf-autotable"; 

const ReportsModal = ({ isOpen, onClose, dataToExport, serviceName }) => {
  const [orgName, setOrgName] = useState("Your Organization");
  const [logoDataUrl, setLogoDataUrl] = useState("");
  const [reportTitle, setReportTitle] = useState(`${serviceName}`);
  const [paperSize, setPaperSize] = useState("a4");
  const [orientationView, setOrientationView] = useState("p");
  const [logoFileName, setLogoFileName] = useState("");

  useEffect(() => {
    setReportTitle(`${serviceName}`);
  }, [serviceName]);

  const handleLogoChange = (event) => {
    const file = event.target.files[0];
    if (file && file.type.startsWith("image/")) {
      setLogoFileName(file.name);
      const reader = new FileReader();
      reader.onloadend = () => {
        setLogoDataUrl(reader.result);
      };
      reader.readAsDataURL(file);
    } else {
      setLogoFileName("");
      setLogoDataUrl("");
    }
  };

  const handleDownloadPdf = () => {
    const doc = new jsPDF({
      orientation: orientationView,
      unit: "mm",
      format: paperSize,
    });

    const pageWidth = doc.internal.pageSize.getWidth();
    
    // --- Cover Page ---
    if (logoDataUrl) {
      doc.addImage(logoDataUrl, "PNG", pageWidth / 2 - 15, 60, 30, 30);
    }
    doc.setFontSize(28);
    doc.text(orgName, pageWidth / 2, 110, { align: "center" });
    doc.setFontSize(20);
    doc.text(reportTitle, pageWidth / 2, 125, { align: "center" });
    doc.setFontSize(12);
    doc.setTextColor(150);
    doc.text(
      `Report Generated: ${new Date().toLocaleDateString()}`,
      pageWidth / 2,
      140,
      { align: "center" }
    );

    // --- Data Table Page(s) ---
    doc.addPage();

    const tableColumn = [
      "SL",
      "Initiator",
      "Alert ID",
      "Alert Time",
      "Event Time",
      "Alert Name",
      "Alert Source",
      "Severity",
      "Status",
    ];

    const tableRows = dataToExport.map((item, index) => [
      index + 1,
      item.author?.name || "",
      item.alertId || "",
      formatDateTimeReadable(item.createdAt) || "",
      formatDateTimeReadable(item.eventTime) || "",
      item.alertName || "",
      item.alertSource || "",
      item.severity || "",
      item.status || "",
    ]);

    // --- CHANGE 2: Use autoTable as a function, passing 'doc' as the first argument ---
    autoTable(doc, {
      head: [tableColumn],
      body: tableRows,
      startY: 20,
      theme: "grid",
      headStyles: { fillColor: [44, 62, 80] },
      styles: { fontSize: 8 },
      tableWidth: "auto",
      horizontalPageBreak: true,
    });

    // --- Footer with page numbers ---
    const pageCount = doc.internal.getNumberOfPages();
    for (let i = 2; i <= pageCount; i++) {
      doc.setPage(i);
      doc.setFontSize(8);
      doc.setTextColor(150);
      doc.text(
        `Page ${i - 1} of ${pageCount - 1}`,
        doc.internal.pageSize.width - 25,
        doc.internal.pageSize.height - 10
      );
    }

    // --- Save PDF ---
    doc.save(
      `${serviceName.replace(" ", "_")}_${
        new Date().toISOString().split("T")[0]
      }.pdf`
    );
  };

  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 !bg-black/70 bg-opacity-70 flex justify-center items-center z-50">
      <div className="bg-gray-800 p-8 rounded-lg shadow-2xl w-full max-w-lg text-white">
        <div className="flex justify-between items-center mb-6">
          <h2 className="text-2xl font-bold">Customize PDF Report</h2>
          <button onClick={onClose} className="text-gray-400 hover:text-white">
            &times;
          </button>
        </div>
        
        {/* Form Inputs */}
        <div className="space-y-4 mb-6">
          <div>
            <label className="text-sm font-semibold text-gray-400">
              Organization Name
            </label>
            <input
              value={orgName}
              onChange={(e) => setOrgName(e.target.value)}
              className="bg-gray-700 p-2 rounded w-full mt-1"
            />
          </div>
          <div>
            <label className="text-sm font-semibold text-gray-400">
              Organization Logo
            </label>
            <label className="w-full flex items-center justify-center px-4 py-3 bg-gray-700 text-gray-300 rounded-lg shadow-sm tracking-wide border border-dashed border-gray-600 cursor-pointer hover:bg-gray-600 hover:text-white mt-1">
              <ImageIcon className="w-6 h-6 mr-3" />
              <span className="text-sm leading-normal">
                {logoFileName || "Upload an image"}
              </span>
              <input
                type="file"
                accept="image/png, image/jpeg"
                className="hidden"
                onChange={handleLogoChange}
              />
            </label>
          </div>
          <div>
            <label className="text-sm font-semibold text-gray-400">
              Report Title
            </label>
            <input
              value={reportTitle}
              onChange={(e) => setReportTitle(e.target.value)}
              className="bg-gray-700 p-2 rounded w-full mt-1"
            />
          </div>
          <div>
            <label className="text-sm font-semibold text-gray-400 block mb-2">
              Paper Size
            </label>
            <div className="flex bg-gray-700 rounded-lg p-1">
              <button
                onClick={() => {
                  setPaperSize("a4");
                  setOrientationView("p");
                }}
                className={`px-4 py-2 text-sm font-semibold rounded-md w-1/2 transition-colors ${
                  paperSize === "a4"
                    ? "bg-indigo-600 text-white"
                    : "text-gray-300"
                }`}
              >
                A4
              </button>
              <button
                onClick={() => {
                  setPaperSize("letter");
                  setOrientationView("l");
                }}
                className={`px-4 py-2 text-sm font-semibold rounded-md w-1/2 transition-colors ${
                  paperSize === "letter"
                    ? "bg-indigo-600 text-white"
                    : "text-gray-300"
                }`}
              >
                Letter
              </button>
            </div>
          </div>
        </div>
        
        <button
          onClick={handleDownloadPdf}
          className="w-full flex items-center justify-center bg-indigo-600 hover:bg-indigo-500 text-white font-semibold px-4 py-3 !rounded-lg transition-colors cursor-pointer"
        >
          <Download className="h-5 w-5 mr-2" /> Download PDF
        </button>
      </div>
    </div>
  );
};

export default ReportsModal;
